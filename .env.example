# USCIS Case Tracker Configuration
#
# Copy this file to .env and fill in your actual values
#
# IMPORTANT: All user-specific configuration should be set here in .env
# The deployment scripts (deploy_gce.sh, cloud_run_deploy_prod.sh) will
# automatically read these values from environment variables. You do NOT
# need to edit the scripts or cloud-run.yaml directly.

# ============================================================================
# GCP CONFIGURATION (for cloud deployments only)
# ============================================================================
# Required for GCE and Cloud Run deployments
# Leave these blank if running locally with Docker

# Your Google Cloud Project ID
GCP_PROJECT_ID="your-gcp-project-id"

# GCP Region (for Cloud Run and Artifact Registry)
GCP_REGION="your-gcp-region"

# GCE Zone (for Compute Engine deployment only)
GCE_ZONE="your-gce-zone"

# GCE Instance Name (for Compute Engine deployment only)
GCE_INSTANCE_NAME="your-vm-name"

# Artifact Registry repository name (optional, defaults to "uscis-tracker")
ARTIFACT_REGISTRY_REPO="uscis-tracker"

# ============================================================================
# AUTHENTICATION MODE
# ============================================================================
# Set AUTO_LOGIN=true to use username/password authentication
# Set AUTO_LOGIN=false (or omit) to use manual cookie authentication
AUTO_LOGIN=false

# ----------------------------------------------------------------------------
# Option 1: Manual Cookie Mode (AUTO_LOGIN=false or omitted)
# ----------------------------------------------------------------------------
# Required if AUTO_LOGIN is false or not set
# IMPORTANT: Include the full cookie with name=value format
# Get this from browser DevTools -> Network tab -> my.uscis.gov request -> Cookie header
# Example: _myuscis_session_rx=abc123def456...
# DO NOT just put the value - include the cookie name too!
USCIS_COOKIE='_myuscis_session_rx=your_cookie_value_here'

# ----------------------------------------------------------------------------
# Option 2: Auto-Login Mode (AUTO_LOGIN=true)
# ----------------------------------------------------------------------------
# Required if AUTO_LOGIN=true
# Use your USCIS account credentials
USCIS_USERNAME=your_email@example.com
USCIS_PASSWORD=your_password

# ============================================================================
# EMAIL 2FA SETTINGS (Optional - for automated 2FA)
# ============================================================================
# If you enable auto-login and your account requires 2FA, you can configure
# email settings to automatically fetch the verification code from your email.
# If these are not configured, you will be prompted to enter the 2FA code manually.
#
# IMPORTANT: For Gmail, you must:
# 1. Enable IMAP: Settings -> Forwarding and POP/IMAP -> Enable IMAP
# 2. Create an app password: https://myaccount.google.com/apppasswords
#    (Regular Gmail password will NOT work - you must use an app-specific password)
#
# For Outlook/Hotmail:
# 1. Enable IMAP: Settings -> View all Outlook settings -> Mail -> Sync email
# 2. Use your regular password or create an app password

# Optional: IMAP server and port
# Gmail: imap.gmail.com:993
# Outlook: outlook.office365.com:993
# Yahoo: imap.mail.yahoo.com:993
EMAIL_IMAP_SERVER=imap.gmail.com:993

# Optional: Email account credentials (for reading 2FA codes)
# NOTE: For Gmail, this MUST be an app password, not your regular password
EMAIL_USERNAME=your_email@gmail.com
EMAIL_PASSWORD=your_app_password_here

# Note: EMAIL_2FA_SENDER and EMAIL_2FA_TIMEOUT are hardcoded in the application
# Default values: MyAccount@uscis.dhs.gov, 10m

# ============================================================================
# CASE TRACKING
# ============================================================================
# Required: Your USCIS case IDs (comma-separated for multiple cases)
# Single case: CASE_IDS=IOE1234567890
# Multiple cases: CASE_IDS=IOE1234567890,IOE0987654321,IOE1122334455
CASE_IDS=IOE1234567890

# Required: Your Resend API key
# Get this from https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxx

# Required: Email address to receive notifications
RECIPIENT_EMAIL=my.email.address@mydomain.com

# Optional: How often to poll (default: 5m)
# Valid units: s (seconds), m (minutes), h (hours)
# Example: 30s, 5m, 1h
POLL_INTERVAL=5m

# Optional: Directory to store state files (default: /tmp/case-tracker-states/)
# Each case will have timestamped files: {CASE_ID}_{timestamp}.json
# Example: IOE1234567890_2025-10-11T15-04-05.json
STATE_FILE_DIR=/tmp/case-tracker-states/
